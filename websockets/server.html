<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
    const PORT = 8080

    const wss = new WebSocket.Server({
        port: PORT
    }, () => console.log(`ws server live on ${PORT}`))

    const errHandle = (err) => {
        if(err) throw err
    }

    wss.on('connection', (socket) => {
        console.log('something connected')

        socket.send('you are connected', errHandle)

        socket.on('message', (data) => {
            console.log(`socket sent ${data}`)

            socket.send('message received', errHandle)
        })
    })
</script>
</body>
</html>